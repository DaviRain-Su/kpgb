<!DOCTYPE html> <html lang="zh-CN"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>About Rust tips - Anonymous IPFS Blog</title>  <meta name="title" content="About Rust tips - Anonymous IPFS Blog"> <meta name="description" content="åœ¨ Rust ä¸­ï¼Œå¦‚æœä½ æƒ³ä¸ºä½ çš„ ä¸­çš„ç±»å‹ç¼–å†™å¸¦æœ‰å¯é€‰çš„ çš„æµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨ å±æ€§å’Œ å±æ€§æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ åªæœ‰åœ¨ è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«å®šä¹‰ï¼ŒåŒæ ·ï¼Œ æµ‹è¯•ä¹Ÿåªæœ‰åœ¨ è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«è¿è¡Œã€‚ è¦è¿è¡Œè¿™ä¸ªæµ‹è¯•ï¼Œä½ éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå…¶ä¸­ æ˜¯ä½ çš„ çš„åå­—ï¼š è¿™ä¸ªå‘½ä»¤ä¼šå¯ç”¨ ç‰¹æ€§å¹¶è¿è¡Œæ‰€æœ‰çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬ä¾èµ–äºâ€¦"> <meta name="keywords" content="IPFS, blog, decentralized, Anonymous"> <meta name="author" content="DaviRain"> <meta name="robots" content="index, follow"> <meta name="language" content="Chinese">  <meta property="og:type" content="article"> <meta property="og:url" content="https:&#x2F;&#x2F;Anonymous.github.io&#x2F;kpgb/posts/rust-tips.html"> <meta property="og:title" content="About Rust tips - Anonymous IPFS Blog"> <meta property="og:description" content="åœ¨ Rust ä¸­ï¼Œå¦‚æœä½ æƒ³ä¸ºä½ çš„ ä¸­çš„ç±»å‹ç¼–å†™å¸¦æœ‰å¯é€‰çš„ çš„æµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨ å±æ€§å’Œ å±æ€§æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ åªæœ‰åœ¨ è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«å®šä¹‰ï¼ŒåŒæ ·ï¼Œ æµ‹è¯•ä¹Ÿåªæœ‰åœ¨ è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«è¿è¡Œã€‚ è¦è¿è¡Œè¿™ä¸ªæµ‹è¯•ï¼Œä½ éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå…¶ä¸­ æ˜¯ä½ çš„ çš„åå­—ï¼š è¿™ä¸ªå‘½ä»¤ä¼šå¯ç”¨ ç‰¹æ€§å¹¶è¿è¡Œæ‰€æœ‰çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬ä¾èµ–äºâ€¦"> <meta property="og:image" content="https:&#x2F;&#x2F;Anonymous.github.io&#x2F;kpgb/images/og-default.svg"> <meta property="og:site_name" content="Anonymous IPFS Blog"> <meta property="article:published_time" content="2025-07-23T00:49:44+0000"> <meta property="article:modified_time" content="2025-07-23T00:49:45+0000"> <meta property="article:author" content="DaviRain">  <meta property="twitter:card" content="summary_large_image"> <meta property="twitter:url" content="https:&#x2F;&#x2F;Anonymous.github.io&#x2F;kpgb/posts/rust-tips.html"> <meta property="twitter:title" content="About Rust tips - Anonymous IPFS Blog"> <meta property="twitter:description" content="åœ¨ Rust ä¸­ï¼Œå¦‚æœä½ æƒ³ä¸ºä½ çš„ ä¸­çš„ç±»å‹ç¼–å†™å¸¦æœ‰å¯é€‰çš„ çš„æµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨ å±æ€§å’Œ å±æ€§æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ åªæœ‰åœ¨ è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«å®šä¹‰ï¼ŒåŒæ ·ï¼Œ æµ‹è¯•ä¹Ÿåªæœ‰åœ¨ è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«è¿è¡Œã€‚ è¦è¿è¡Œè¿™ä¸ªæµ‹è¯•ï¼Œä½ éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå…¶ä¸­ æ˜¯ä½ çš„ çš„åå­—ï¼š è¿™ä¸ªå‘½ä»¤ä¼šå¯ç”¨ ç‰¹æ€§å¹¶è¿è¡Œæ‰€æœ‰çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬ä¾èµ–äºâ€¦"> <meta property="twitter:image" content="https:&#x2F;&#x2F;Anonymous.github.io&#x2F;kpgb/images/twitter-card.svg">  <link rel="canonical" href="https:&#x2F;&#x2F;Anonymous.github.io&#x2F;kpgb/posts/rust-tips.html">  <link rel="icon" type="image/svg+xml" href="&#x2F;kpgb/favicon.svg"> <link rel="alternate icon" href="&#x2F;kpgb/favicon.ico"> <link rel="manifest" href="&#x2F;kpgb/site.webmanifest">  <link rel="stylesheet" href="&#x2F;kpgb/css/style.css">  <link rel="alternate" type="application/rss+xml" title="Anonymous IPFS Blog RSS Feed" href="&#x2F;kpgb/feed.xml">  <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "About Rust tips",
        "description": "åœ¨ Rust ä¸­ï¼Œå¦‚æœä½ æƒ³ä¸ºä½ çš„ ä¸­çš„ç±»å‹ç¼–å†™å¸¦æœ‰å¯é€‰çš„ çš„æµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨ å±æ€§å’Œ å±æ€§æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ åªæœ‰åœ¨ è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«å®šä¹‰ï¼ŒåŒæ ·ï¼Œ æµ‹è¯•ä¹Ÿåªæœ‰åœ¨ è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«è¿è¡Œã€‚ è¦è¿è¡Œè¿™ä¸ªæµ‹è¯•ï¼Œä½ éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå…¶ä¸­ æ˜¯ä½ çš„ çš„åå­—ï¼š è¿™ä¸ªå‘½ä»¤ä¼šå¯ç”¨ ç‰¹æ€§å¹¶è¿è¡Œæ‰€æœ‰çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬ä¾èµ–äºè¿™ä¸ªç‰¹æ€§çš„æµ‹è¯•ã€‚ è¦å°† è½¬æ¢ä¸º ï¼Œå¯ä»¥ä½¿ç”¨ ä¸­çš„ æ–¹æ³•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹å®ç°ï¼š åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ å°† è½¬æ¢ä¸ºè¿­ä»£å™¨ã€‚ç„¶åè°ƒç”¨ ï¼Œä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ å’Œä¸€ä¸ªé—­åŒ…ï¼Œè¯¥é—­åŒ…æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªç´¯åŠ å™¨ï¼ˆ ï¼‰å’Œä¸€ä¸ª ã€‚...",
        "author": {
            "@type": "Person",
            "name": "DaviRain"
        },
        "datePublished": "2025-07-23T00:49:44+0000",
        "dateModified": "2025-07-23T00:49:45+0000",
        "publisher": {
            "@type": "Organization",
            "name": "Anonymous IPFS Blog",
            "logo": {
                "@type": "ImageObject",
                "url": "https:&#x2F;&#x2F;Anonymous.github.io&#x2F;kpgb/images/logo.svg"
            }
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:&#x2F;&#x2F;Anonymous.github.io&#x2F;kpgb/posts/rust-tips.html"
        },
        "wordCount": "351",
        "keywords": "",
        
        "articleSection": "Tech",
        
        "inLanguage": "zh-CN"
    }
    </script>
    
</head>
<body>
    <header>
        <nav>
            <div class="container">
                <h1><a href="&#x2F;kpgb/">Anonymous IPFS Blog</a></h1>
                <ul>
                    <li><a href="&#x2F;kpgb/">Home</a></li>
                    <li><a href="&#x2F;kpgb/archive">Archive</a></li>
                    <li><a href="&#x2F;kpgb/tags">Tags</a></li>
                    <li><a href="&#x2F;kpgb/docs">Docs</a></li>
                    <li><a href="&#x2F;kpgb/feed.xml">RSS</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <div class="container">
            
<article class="post">
    <header>
        <h1>About Rust tips</h1>
        <div class="post-meta">
            <span class="author">By DaviRain</span>
            <span class="date">2025-07-23 00:49</span>
            
            <span class="reading-time">â±ï¸ 7 min read</span>
            
            
            <span class="category">Tech</span>
            
        </div>
        
    </header>

    
    <div class="post-with-toc">
        <aside class="toc-container">
            <nav class="toc" id="toc">
    <h2 class="toc-title">Table of Contents</h2>
    <ul class="toc-list"><li class="toc-item toc-level-2">
                <a href="#åœ¨rustä¸­å¦‚ä½•ä¸ºæœ¬cratesä¸­çš„ç±»å‹å¸¦æœ‰å¯é€‰çš„featureç¼–å†™æµ‹è¯•" class="toc-link">åœ¨rustä¸­å¦‚ä½•ä¸ºæœ¬cratesä¸­çš„ç±»å‹å¸¦æœ‰å¯é€‰çš„featureç¼–å†™æµ‹è¯•</a></li><li class="toc-item toc-level-2">
                <a href="#å°†-vec_result_-e_-è½¬æ¢ä¸º-result_vec_-e_" class="toc-link">å°† Vec&lt;Result, E&gt; è½¬æ¢ä¸º Result&lt;Vec, E&gt;</a></li><li class="toc-item toc-level-2">
                <a href="#ruståè¿›åˆ¶å’Œ16è¿›åˆ¶ä¹‹é—´çš„äº’ç›¸è½¬æ¢" class="toc-link">Ruståè¿›åˆ¶å’Œ16è¿›åˆ¶ä¹‹é—´çš„äº’ç›¸è½¬æ¢</a></li><li class="toc-item toc-level-2">
                <a href="#and-then-å’Œ-mapåœ¨ä½¿ç”¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«" class="toc-link">and_then å’Œ mapåœ¨ä½¿ç”¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«</a></li></ul></nav>
        </aside>
        <div class="post-content">
            <h2 id="åœ¨rustä¸­å¦‚ä½•ä¸ºæœ¬cratesä¸­çš„ç±»å‹å¸¦æœ‰å¯é€‰çš„featureç¼–å†™æµ‹è¯•">åœ¨rustä¸­å¦‚ä½•ä¸ºæœ¬cratesä¸­çš„ç±»å‹å¸¦æœ‰å¯é€‰çš„featureç¼–å†™æµ‹è¯•</h2>
<p>åœ¨ Rust ä¸­ï¼Œå¦‚æœä½ æƒ³ä¸ºä½ çš„ <code>crate</code> ä¸­çš„ç±»å‹ç¼–å†™å¸¦æœ‰å¯é€‰çš„ <code>feature</code> çš„æµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>cfg_attr</code>å±æ€§å’Œ<code>#[cfg(feature = "feature_name")]</code>å±æ€§æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="language-rust">// åœ¨lib.rsæˆ–è€…main.rsä¸­
#[cfg(feature = "feature_name")]
pub struct MyStruct {
    // ...
}

#[cfg(test)]
mod tests {
    #[test]
    #[cfg(feature = "feature_name")]
    fn test_my_struct() {
        // åœ¨è¿™é‡Œå†™ä½ çš„æµ‹è¯•
    }
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>MyStruct</code>åªæœ‰åœ¨<code>feature_name</code>è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«å®šä¹‰ï¼ŒåŒæ ·ï¼Œ<code>test_my_struct</code>æµ‹è¯•ä¹Ÿåªæœ‰åœ¨<code>feature_name</code>è¢«å¯ç”¨æ—¶æ‰ä¼šè¢«è¿è¡Œã€‚</p>
<p>è¦è¿è¡Œè¿™ä¸ªæµ‹è¯•ï¼Œä½ éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå…¶ä¸­<code>my_crate</code>æ˜¯ä½ çš„ <code>crate</code> çš„åå­—ï¼š</p>
<pre><code class="language-bash">cargo test --features feature_name
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šå¯ç”¨<code>feature_name</code>ç‰¹æ€§å¹¶è¿è¡Œæ‰€æœ‰çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬ä¾èµ–äºè¿™ä¸ªç‰¹æ€§çš„æµ‹è¯•ã€‚</p>
<h2 id="å°†-vec_lt_result_-e_gt_-è½¬æ¢ä¸º-result_lt_vec_-e_gt_">å°† Vec&lt;Result<T>, E&gt; è½¬æ¢ä¸º Result&lt;Vec<T>, E&gt;</h2>
<p>è¦å°† <code>Vec&lt;Result&lt;T, E&gt;&gt;</code> è½¬æ¢ä¸º <code>Result&lt;Vec, E&gt;</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>Iterator trait</code> ä¸­çš„ <code>try_fold ()</code> æ–¹æ³•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹å®ç°ï¼š</p>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>into_iter ()</code> å°† <code>Vec</code> è½¬æ¢ä¸ºè¿­ä»£å™¨ã€‚ç„¶åè°ƒç”¨ <code>try_fold ()</code>ï¼Œä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ <code>Vec::new ()</code> å’Œä¸€ä¸ªé—­åŒ…ï¼Œè¯¥é—­åŒ…æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªç´¯åŠ å™¨ï¼ˆ<code>acc</code>ï¼‰å’Œä¸€ä¸ª <code>Resultï¼ˆresï¼‰</code>ã€‚</p>
<pre><code class="language-rust">fn vec_result_to_result_vec&lt;T, E&gt;(v: Vec&lt;Result&lt;T, E&gt;&gt;) -&gt; Result&lt;Vec&lt;T&gt;, E&gt; {
    v.into_iter().try_fold(Vec::new(), |mut acc, res| {
        match res {
            Ok(t) =&gt; {
                acc.push(t);
                Ok(acc)
            },
            Err(e) =&gt; Err(e)
        }
    })
}
</code></pre>
<p>é—­åŒ…æ¨¡å¼åŒ¹é… <code>Result</code> å˜ä½“ï¼Œå°† <code>Ok</code> å€¼æ¨å…¥ <code>acc</code> å‘é‡å¹¶è¿”å› <code>Ok (acc)</code>ï¼Œå¦‚æœ <code>Result</code> æ˜¯ <code>Err</code>ï¼Œåˆ™è¿”å› <code>Err (e)</code>ã€‚<code>try_fold ()</code> æ–¹æ³•å°†ç»§ç»­è¿­ä»£è¿­ä»£å™¨ä¸­çš„å‰©ä½™é¡¹ï¼Œå¹¶å°†æ›´æ–°åçš„ç´¯åŠ å™¨å€¼ä¼ é€’ç»™æ¯ä¸ªåç»­è°ƒç”¨é—­åŒ…çš„è°ƒç”¨ã€‚</p>
<p>å¦‚æœåŸå§‹ <code>Vec</code> ä¸­çš„ä»»ä½• <code>Result</code> æ˜¯ <code>Err</code>ï¼Œåˆ™ <code>try_fold ()</code> å°†çŸ­è·¯å¹¶è¿”å›é‡åˆ°çš„ç¬¬ä¸€ä¸ª <code>Err</code>ã€‚å¦åˆ™ï¼Œå®ƒå°†è¿”å›å¸¦æœ‰è§£åŒ…çš„ <code>T</code> å€¼çš„ <code>Vec</code> çš„ <code>Ok (acc)</code>ã€‚</p>
<h2 id="ruståè¿›åˆ¶å’Œ16è¿›åˆ¶ä¹‹é—´çš„äº’ç›¸è½¬æ¢">Ruståè¿›åˆ¶å’Œ16è¿›åˆ¶ä¹‹é—´çš„äº’ç›¸è½¬æ¢</h2>
<p>åœ¨ Rust ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>format!()</code> å®å°†åè¿›åˆ¶æ•°æ ¼å¼åŒ–ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹å®ç°ï¼š</p>
<pre><code class="language-rust">fn decimal_to_hex(decimal: u32) -&gt; String {
    format!("{:X}", decimal)
}
</code></pre>
<p>è¿™é‡Œä½¿ç”¨äº† <code>{}</code> æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå®ƒå°†æ— ç¬¦å·åè¿›åˆ¶æ•°è½¬æ¢ä¸ºå¤§å†™åå…­è¿›åˆ¶å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå°†æ•°å­— 123456789 è½¬æ¢ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¯ä»¥è¿™æ ·è°ƒç”¨å‡½æ•°ï¼š</p>
<pre><code class="language-rust">let hex_string = decimal_to_hex(123456789);
println!("{}", hex_string); // è¾“å‡º: "75BCD15"
</code></pre>
<p>æ³¨æ„ï¼Œå¦‚æœè¦å¤„ç†æ›´å¤§çš„æ•°å­—ï¼Œå¯ä»¥ä½¿ç”¨ u64 æˆ– u128 ç±»å‹ã€‚å¦‚æœéœ€è¦å°†åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢å›åè¿›åˆ¶æ•°å­—ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>u64::from_str_radix ()</code> å‡½æ•°ã€‚</p>
<h2 id="and-then-å’Œ-mapåœ¨ä½¿ç”¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«">and_then å’Œ mapåœ¨ä½¿ç”¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«</h2>
<p>åœ¨ Rust ä¸­ï¼Œand_then å’Œ map éƒ½æ˜¯ç”¨äºåœ¨å¯¹ Option æˆ– Result è¿›è¡Œè½¬æ¢æ—¶ä½¿ç”¨çš„æ–¹æ³•ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨æ–¹å¼æœ‰æ‰€ä¸åŒã€‚</p>
<p>map æ–¹æ³•å°†ä¸€ä¸ª Optionæˆ– Result&lt;T, E&gt; æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„ Optionæˆ– Result&lt;U, E&gt;ï¼Œå…¶ä¸­å‡½æ•°é—­åŒ…ä¸­çš„æ“ä½œæ˜¯åº”ç”¨äº Option æˆ– Result ä¸­åŒ…å«çš„å€¼çš„ã€‚å¦‚æœåŸå§‹å€¼æ˜¯ None æˆ– Errï¼Œåˆ™æ˜ å°„å‡½æ•°å°†ä¸ä¼šè¢«æ‰§è¡Œï¼Œè€Œæ˜¯ç›´æ¥è¿”å›ä¸€ä¸ªæ–°çš„ None æˆ– Errã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ map æ–¹æ³•å°† Optionä¸­çš„å€¼åŠ å€çš„ç¤ºä¾‹ï¼š</p>
<p>and_then æ–¹æ³•åœ¨ä½¿ç”¨ä¸Šä¸ map ç±»ä¼¼ï¼Œä½†æ˜¯ï¼Œå®ƒçš„è¿”å›å€¼ç±»å‹æ˜¯ Optionæˆ– Result&lt;U, E&gt; è€Œä¸æ˜¯ Uã€‚åœ¨ and_then çš„é—­åŒ…ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»è¿”å›ä¸€ä¸ªæ–°çš„ Option æˆ– Resultï¼Œè€Œä¸æ˜¯ç›´æ¥è¿”å›ä¸€ä¸ªå€¼ã€‚è¿™æ„å‘³ç€ and_then å¯ç”¨äºå°†ä¸€ä¸ª Option æˆ– Result è½¬æ¢æˆå¦ä¸€ä¸ª Option æˆ– Resultï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è¿›è¡Œä¸€äº›é€»è¾‘æµ‹è¯•ã€‚</p>
<pre><code class="language-rust">let some_number = Some(5);
let doubled = some_number.map(|x| x * 2);
assert_eq!(doubled, Some(10));
</code></pre>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ and_then æ–¹æ³•å°† Optionä¸­çš„å€¼ä¹˜ä»¥ 3 çš„ç¤ºä¾‹ï¼Œå¦‚æœè¯¥å€¼å°äº 10ï¼Œåˆ™è¿”å› Noneï¼š</p>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨ and_then çš„é—­åŒ…ä¸­æµ‹è¯•äº† some_number æ˜¯å¦å°äº 10ã€‚å¦‚æœæ˜¯ï¼Œåˆ™è¿”å› Noneï¼Œå¦åˆ™è¿”å› Some (x * 3)ï¼Œå…¶ä¸­ x æ˜¯åŸå§‹ Optionä¸­çš„å€¼ã€‚åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œsome_number çš„å€¼ä¸º 5ï¼Œå› æ­¤ï¼Œé—­åŒ…è¿”å› Noneï¼Œå¯¼è‡´æ•´ä¸ªè¡¨è¾¾å¼è¿”å› Noneã€‚åœ¨ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­ï¼Œsome_number çš„å€¼ä¸º 11ï¼Œå› æ­¤ï¼Œé—­åŒ…è¿”å› Some (33)ï¼Œå¯¼è‡´æ•´ä¸ªè¡¨è¾¾å¼è¿”å› Some (33)ã€‚</p>
<pre><code class="language-rust">let some_number = Some(5);
let result = some_number.and_then(|x| {
    if x &lt; 10 {
        None
    } else {
        Some(x * 3)
    }
});
assert_eq!(result, None);

let some_number = Some(11);
let result = some_number.and_then(|x| {
    if x &lt; 10 {
        None
    } else {
        Some(x * 3)
    }
});
assert_eq!(result, Some(33));
</code></pre>
<p>å› æ­¤ï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œmap ç”¨äºç®€å•çš„å€¼è½¬æ¢ï¼Œè€Œ and_then ç”¨äºæ›´å¤æ‚çš„æ“ä½œå’Œé€»è¾‘æµ‹è¯•ã€‚</p>

        </div>
    </div>
    

    <footer class="post-footer">
        <div class="post-info">
            <p><strong>Storage ID:</strong> <code>QmeC1JrFWMsqZkixtS8SAmiZ52W6U2K9Pf8NNKnkLbWoX7</code></p>
            
            <p><strong>IPFS Link:</strong> <a href="https:&#x2F;&#x2F;ipfs.io&#x2F;ipfs&#x2F;QmeC1JrFWMsqZkixtS8SAmiZ52W6U2K9Pf8NNKnkLbWoX7" target="_blank">View on IPFS</a></p>
            
            <p><strong>Content Hash:</strong> <code>81f971a9b2a8f7fa86358a327ef5efc97e6cd636010b55f1bc1fbe6777b94154</code></p>
        </div>
        <nav class="post-nav">
            <a href="/archive.html">â† Back to Archive</a>
        </nav>
    </footer>

    
    
    <section class="related-posts">
        <h2>Related Posts</h2>
        <div class="related-posts-grid">
            
            <article class="related-post-card">
                <h3><a href="&#x2F;kpgb&#x2F;posts&#x2F;chanzhe.html">ç¦…è€…çš„åˆå¿ƒğŸ“’</a></h3>
                <div class="post-meta">
                    <span class="date">2025-07-23</span>
                    
                    <span class="reading-time">1 min read</span>
                    
                </div>
                
                    <p class="excerpt">æ˜¯æ™ºæ…§åœ¨è¿½å¯»æ™ºæ…§ã€‚ åˆå­¦è€…çš„å¿ƒæ˜¯å¼€æ”¾çš„ï¼Œè€Œè¡Œå®¶çš„å¿ƒæ˜¯æ”¶ç´§çš„ã€‚ æˆ‘ä»¬çš„æœ¬å¿ƒå†…å«ä¸‡ç‰©ï¼Œå®ƒæœ¬è‡ªå…·è¶³ã€‚ å¦‚æœä½ çš„å¿ƒæ˜¯ç©ºçš„ï¼Œå®ƒå¯ä»¥éšæ—¶æ¥å—ä»»ä½•äº‹ç‰©ï¼›å®ƒå‘æ‰€æœ‰çš„äº‹ç‰©å¼€æ”¾ã€‚åˆå­¦è€…çš„å¿ƒæ˜¯å¼€æ”¾çš„ï¼Œè€Œè¡Œå®¶çš„å¿ƒæ˜¯æ”¶ç´§çš„ã€‚ åˆ†åˆ«å¿ƒå¤ªé‡ï¼Œæ˜¯è‡ªæˆ‘æŸç¼šã€‚å¤ªè¿‡è‹›åˆ»å’Œè´ªå©ªï¼Œä½ çš„å¿ƒä¾¿ä¸ä¼šä¸°é¥¶å¯Œè¶³ã€‚è€Œå¤±å»äº†æœ¬è‡ªå…·è¶³çš„å¿ƒï¼Œæˆ‘ä»¬ä¼šå¤±å®ˆæ‰€æœ‰çš„â€¦</p>
                
                
            </article>
            
            <article class="related-post-card">
                <h3><a href="&#x2F;kpgb&#x2F;posts&#x2F;T.html">TingHuè¯­å½•ğŸ“’</a></h3>
                <div class="post-meta">
                    <span class="date">2025-07-23</span>
                    
                    <span class="reading-time">4 min read</span>
                    
                </div>
                
                    <p class="excerpt">å¤§å¤šæ•°äººæœ€åè·‘ä¸èµ¢æ¯”ç‰¹å¸è¿™å¥è¯æˆ‘éƒ½ä¸çŸ¥é“è®²äº†å¤šå°‘æ¬¡äº†(å®é™…ä¸Šæœ€åå¾ˆå¤šäººè¿˜äºé’±)ã€‚ å¦‚æœä½ æŒ‡æœ›æˆ‘é€šè¿‡æ¨èä½ ä¹°å°å±±å¯¨è·‘èµ¢æ¯”ç‰¹å¸ï¼Œé‚£è¿˜æ˜¯åˆ«å…³æ³¨æˆ‘äº†ï¼Œæˆ‘æ²¡æœ‰åŠæ³•ç»™å‡ºæˆ‘è®¤ä¸ºåˆç†çš„å»ºè®®ã€‚ ç°åœ¨è¯´ä¹Ÿè®¸è¿˜æ—©ï¼Œä½†æ˜¯å¤§å®¶å¯ä»¥è®°ä½è¿™ä¸€æ¡ï¼Œå¹´åº•ç­›é€‰æŠ•èµ„æ ‡çš„çš„æ—¶å€™ï¼Œ 2019-2021è¿™è½®ç‰›å¸‚è¡¨ç°ä¸€èˆ¬çš„è€å¸ï¼Œå…¨éƒ¨ä¸ä½œä¸ºç›®æ ‡ï¼Œâ€¦</p>
                
                
            </article>
            
            <article class="related-post-card">
                <h3><a href="&#x2F;kpgb&#x2F;posts&#x2F;rust-raw-pointer.html">About Rust Raw Pointer</a></h3>
                <div class="post-meta">
                    <span class="date">2025-07-23</span>
                    
                    <span class="reading-time">2 min read</span>
                    
                </div>
                
                    <p class="excerpt">åœ¨Rustä¸­å¯ä»¥ä½¿ç”¨åŸç”ŸæŒ‡é’ˆï¼ŒåŸç”ŸæŒ‡é’ˆæ˜¯ä¸€ç§è£¸æŒ‡é’ˆï¼Œä¸å—Rustçš„å®‰å…¨æ€§æ£€æŸ¥é™åˆ¶ã€‚ åŸç”ŸæŒ‡é’ˆæœ‰ä¸¤ç§ç±»å‹ï¼š å’Œ ï¼Œåˆ†åˆ«æ˜¯ä¸å¯å˜å’Œå¯å˜çš„åŸç”ŸæŒ‡é’ˆã€‚ Rustæä¾›äº†ä¸€ä¸ªå‡½æ•°å¯ä»¥è·å–ç±»å‹çš„å¤§å°ï¼š ã€‚ è¿™é‡Œæä¾›äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨åŸç”ŸæŒ‡é’ˆã€‚ åŸç”ŸæŒ‡é’ˆæ˜¯ä¸€ç§è£¸æŒ‡é’ˆï¼Œä¸å—Rustçš„å®‰å…¨æ€§æ£€æŸ¥é™åˆ¶ï¼Œå¯ä»¥â€¦</p>
                
                
            </article>
            
            <article class="related-post-card">
                <h3><a href="&#x2F;kpgb&#x2F;posts&#x2F;learn-ocaml-sources.html">å­¦ä¹ Ocamlçš„èµ„æº</a></h3>
                <div class="post-meta">
                    <span class="date">2025-07-23</span>
                    
                    <span class="reading-time">1 min read</span>
                    
                </div>
                
                    <p class="excerpt">Introduction to Objective Ocaml Objective Caml ç®€ä»‹ã€‚ OCaml from the Very Beginning ä¸€æœ¬éå¸¸æ¸©å’Œçš„æ•™ç§‘ä¹¦ï¼Œæ¨èç”¨äºæœ¬è¯¾ç¨‹ã€‚æœ¬ä¹¦çš„ PDF å’Œ HTML æ ¼å¼éƒ½æ˜¯å…è´¹çš„ã€‚ A guided tour [ of OCaml ]â€¦</p>
                
                
            </article>
            
            <article class="related-post-card">
                <h3><a href="&#x2F;kpgb&#x2F;posts&#x2F;rust-sources.html">Rust Resources Every Learner Should Know in 2023</a></h3>
                <div class="post-meta">
                    <span class="date">2025-07-23</span>
                    
                    <span class="reading-time">12 min read</span>
                    
                </div>
                
                    <p class="excerpt">å»å¹´ï¼Œæˆ‘å¼€å§‹å­¦ä¹ Rustï¼Œä¸»è¦æ˜¯ä¸ºäº†åº”ç”¨äºåµŒå…¥å¼ç³»ç»Ÿã€‚å½“æ—¶ï¼Œæˆ‘ä¹Ÿåœ¨ä¸€ç¯‡åä¸ºâ€œ 35ä¸ªRustå­¦ä¹ èµ„æºï¼Œæ¯ä¸ªåˆå­¦è€…åœ¨2022å¹´éƒ½åº”è¯¥çŸ¥é“ â€çš„å¸–å­ä¸­åˆ†äº«äº†æˆ‘æ‰€é‡åˆ°çš„æ‰€æœ‰å­¦ä¹ ææ–™ã€‚è‡ªé‚£æ—¶ä»¥æ¥ï¼Œæˆ‘å¹¶æ²¡æœ‰åœæ­¢å­¦ä¹  Rustï¼Œè€Œæ˜¯ä¸æ–­åŠªåŠ›å·©å›ºè‡ªå·±çš„åŸºç¡€ã€‚å› æ­¤ï¼Œæˆ‘ä¸€ç›´åœ¨å¯»æ‰¾æ–°çš„å­¦ä¹ èµ„æºã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†é€šè¿‡æ·»åŠ â€¦</p>
                
                
            </article>
            
        </div>
    </section>
    

    
    
    <div class="comments">
        <h2>Comments</h2>
        <script src="https://giscus.app/client.js"
                data-repo="davirain-su&#x2F;kpgb"
                data-repo-id="R_kgDOPP4-yg"
                data-category="General"
                data-category-id="DIC_kwDOPP4-ys4CtTKw"
                data-mapping="pathname"
                data-strict="0"
                data-reactions-enabled="1"
                data-emit-metadata="0"
                data-input-position="bottom"
                data-theme="preferred_color_scheme"
                data-lang="zh-CN"
                data-loading="lazy"
                crossorigin="anonymous"
                async>
        </script>
    </div>
    
</article>


<script>
// TOC active section highlighting
(function() {
    const tocLinks = document.querySelectorAll('.toc-link');
    const headings = document.querySelectorAll('.post-content h1[id], .post-content h2[id], .post-content h3[id], .post-content h4[id], .post-content h5[id], .post-content h6[id]');
    
    if (tocLinks.length === 0 || headings.length === 0) return;
    
    function updateActiveSection() {
        const scrollPosition = window.scrollY + 100; // Offset for better UX
        
        let activeHeading = null;
        for (const heading of headings) {
            if (heading.offsetTop <= scrollPosition) {
                activeHeading = heading;
            } else {
                break;
            }
        }
        
        if (activeHeading) {
            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + activeHeading.id) {
                    link.classList.add('active');
                }
            });
        }
    }
    
    // Update on scroll
    let scrollTimer;
    window.addEventListener('scroll', () => {
        clearTimeout(scrollTimer);
        scrollTimer = setTimeout(updateActiveSection, 50);
    });
    
    // Initial update
    updateActiveSection();
})();
</script>


        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Anonymous. Powered by IPFS & KPGB.</p>
            <p>A decentralized blog powered by IPFS</p>
        </div>
    </footer>
</body>
</html>