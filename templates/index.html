{% extends "base.html" %}

{% block content %}
<div class="posts">
    {% for post in posts %}
    <article class="post-preview">
        <h2><a href="{{ post.url }}">{{ post.title }}</a></h2>
        <div class="post-meta">
            <span class="author">{{ post.author }}</span>
            <span class="date">{{ post.created_at | date(format="%Y-%m-%d") }}</span>
            {% if post.tags %}
            <span class="tags">
                {% for tag in post.tags %}
                <span class="tag">{{ tag }}</span>
                {% endfor %}
            </span>
            {% endif %}
        </div>
        <div class="post-content">
            {% if post.excerpt %}
                {{ post.excerpt }}
            {% else %}
                {{ post.content_html | truncate(length=300) | safe }}
            {% endif %}
        </div>
        <a href="{{ post.url }}" class="read-more">Read more â†’</a>
    </article>
    {% endfor %}
</div>
{% endblock content %}